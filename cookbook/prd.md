# PRD: Gap-time Companion Agent (MVP) — 바르셀로나 모바일 웹

## 1. 제품 개요
- 비전: 누구나 여행 중 애매한 빈 시간을 현지의 감성으로 의미 있게 채울 수 있게 한다.
- 미션: 현재 위치와 남은 시간, 예산, 테마만으로 즉시 실행 가능한 4개의 맥락 기반 활동을 한국어로 추천한다.
- 고수준 설명:
  - 모바일 웹(반응형)으로 제공되는 추천 서비스
  - 사용자의 현재 시간·사전 정의 위치·날씨를 맥락으로 사용
  - 간단한 3문항(남는 시간, 예산, 테마) 입력 후, 웹 검색 기반으로 주변 활동을 탐색
  - 상위 4개 활동 카드로 요약 제공: 예상 소요시간, 비용 레벨, 평점, 추천 이유, 길찾기 링크 포함
  - 결제/예약/일정 관리 기능 없이 즉시 실행 경험에 집중

- 핵심 가치 제안(초기): 현지 감성의 특별한 경험 추천
- 초기 제공 형태: 모바일 웹(반응형)
- 초기 론칭 지역: 스페인 바르셀로나
- 초기 언어/콘텐츠 표준: UI 한국어 · 결과 한국어
- MVP 범위
  - 포함: 사전 정의 위치/날씨 로딩, 3문항 입력, 시간 버킷 분류, 웹 검색 기반 후보 수집, 후보 정규화/점수화, 상위 4개 추천, 길찾기 링크 제공, 제로데이터 폴백
  - 제외: 결제, 예약, 정산, 공유, 캘린더 동기화, 사용자 장기 학습

## 2. 목표 및 목적
- 비즈니스 목표
  - 론칭 8주 내 유의미한 사용성 지표 확보(추천 선택률 ≥ 35%)
  - 현지 기반 일상 스팟 중심의 차별화 가치 검증
  - 반복 사용 동기(간편·즉시성) 검증을 위한 L1/L7 재방문율 파악

- 사용자 목표
  - 3초 이내 추천을 받아 즉시 결정할 수 있다.
  - 현지 분위기를 느낄 수 있는 “일상 스팟” 중심의 제안을 받는다.
  - 이동·대기 시간을 포함한 남은 시간 안에서 무리 없이 활동을 마칠 수 있다.

- 성공 지표(KPI)
  - 추천 성공률(옵션 중 하나를 선택) ≥ 35%
  - 평균 응답 시간(검색 시작→추천 노출) ≤ 3초
  - 폴백 발생 비율 ≤ 20%
  - 길찾기 링크 클릭률 ≥ 50%
  - 세션당 평균 소요 의사결정 시간(노출→탭) ≤ 15초

## 3. 대상 고객
- 1차 타깃: 해외 여행 중 한국인 관광객(20~30대), 바르셀로나 체류
- 페르소나
  - 즉흥 여행가(27세, 여성): 카페·골목 포토스팟 선호, 낮은~중간 예산, 30~60분 틈새 다수
  - 효율형 여행자(31세, 남성): 걷기·현지 마켓 탐방 선호, 낮은 예산, 30분 이하 또는 60~90분
- 주요 사용 사례
  - 체크인 전 1시간 남음: 짐 보관 완료, ‘휴식’ 테마로 근처 현지 카페·정원 추천
  - 식사 전 45분 남음: ‘쇼핑’ 테마로 현지 마켓·문구점·빈티지숍 추천
  - 이동 중 20분 남음: 광장 벤치·전망 포인트·무료 포토스팟 추천

## 4. 사용자 스토리 및 사용 사례
- 기본 사용자 여정
  1) 앱/웹 접속 → 2) 자동 맥락 초기화(사전 정의 위치/날씨/현재 시각) → 3) 3문항 입력(남는 시간, 예산 레벨, 테마) → 4) 활동 후보 탐색 및 정규화 → 5) 상위 4개 카드 노출 → 6) 길찾기 링크 탭 → 7) 외부 지도에서 실행
- 핵심 사용자 스토리
  - 사용자는 45분 남았고 예산 낮음, 테마 ‘휴식’을 선택하면, 도보 10분 내 카페/공원/전망 포인트 중 현지 감성이 높은 4개가 제시되어 즉시 이동할 수 있다.
  - 사용자는 90분 남았고 예산 중간, 테마 ‘액티비티’를 선택하면, 대기 포함 시간을 고려해 미술관 소규모 전시, 현지 플리마켓, 스트리트 퍼포먼스 관람 포인트 등 실내/실외 혼합 옵션을 받는다.
- 엣지 케이스
  - 폭우/휴무 비중 높은 시간대: 실내 중심 추천 + 무료 포토스팟 폴백
  - 야간 늦은 시간: 안전성·영업 여부 반영, 조용한 산책 루트/야경 포인트 위주

## 5. 기능적 요구사항
아래 기능은 사용자 가치, 근거, 수용 기준, 우선순위(P0=반드시, P1=가급적, P2=후속)로 기술한다.

- 세션 초기화(맥락 설정)
  - 설명: 사전 정의된 바르셀로나 내 기준 위치 라벨, 날씨, 현재 시각 자동 로딩
  - 근거: 최소 입력으로 즉시성 확보, 외부 센서 의존 최소화
  - 수용 기준:
    - 페이지 로드 시 위치/날씨/시간 값이 자동 표시된다.
    - 오류 시 기본 위치/날씨로 폴백하여 진행 가능하다.
  - 우선순위: P0

- 선호 입력 수집(3문항)
  - 설명: 남는 시간, 예산 레벨(낮음/중간/높음), 테마(휴식/쇼핑/식사/액티비티 등)
  - 근거: 의사결정 부담 최소화, 맥락 필터링
  - 수용 기준:
    - 3문항 이내로 입력이 완료된다.
    - 시간은 4개 버킷에서 선택: 30분 이하, 30분 초과~60분 이하, 60분 초과~120분 이하, 120분 초과
    - 예산은 1인당 레벨로 선택하며 결과 카드에 동일 레벨로 표기된다.
    - 테마는 최소 4개 선택지 제공, 다중선택 허용(선택지 명확)
  - 우선순위: P0

- Gap 분류(시간 버킷)
  - 설명: 이동·대기 시간을 포함하여 활동 적합도를 산정
  - 근거: 현실적인 완수 가능 시간 보장
  - 수용 기준:
    - 각 후보의 예상 이동+대기 포함 소요시간이 버킷을 초과하지 않도록 필터/패널티 적용
    - 카드에 예상 총 소요시간 범위를 표기
  - 우선순위: P0

- 쿼리 생성(탐색 의도 반영)
  - 설명: 위치 라벨+시간 버킷+예산+테마를 반영한 2~5개의 검색 쿼리 자동 생성
  - 근거: 빠른 후보 확보, 데이터베이스 미보유 전제
  - 수용 기준:
    - 세션당 최소 2개 이상 쿼리로 결과가 수집된다.
    - 테마·예산·시간 제약을 반영한 키워드 조합이 포함된다.
  - 우선순위: P0

- 웹 검색 결과 정규화
  - 설명: 장소명, 카테고리, 가격 레벨/범위, 평점, 영업 여부, 실내/실외, 대기 가능성 등의 속성으로 후보(ActivityItem) 변환
  - 근거: 일관된 랭킹·표시 품질 확보
  - 수용 기준:
    - 상기 핵심 속성 중 최소 5개 이상이 각 후보에 채워진다(미확정은 명시적 ‘정보 없음’ 처리).
    - 영업 종료/휴무 후보는 기본 제외 또는 낮은 점수 부여
  - 우선순위: P0

- 활동 랭킹 및 선택
  - 설명: 거리, 시간 적합도(이동+대기), 예산 적합도, 평점, 실내/실외 적합도(날씨 고려), 테마·현지감성 매칭 점수로 상위 4개 선정
  - 근거: 품질 높은 상위 옵션 제시
  - 수용 기준:
    - 카드 4개를 항상 노출(결과 부족 시 폴백으로 보충)
    - 동일 카테고리 중복 최소화(동일 체인/동일 유형 2개 초과 금지)
    - 각 카드에 추천 이유(최대 80자) 표시
  - 우선순위: P0

- 추천 카드 제시(프레젠테이션)
  - 설명: 활동 요약(이름/카테고리), 예상 총 소요시간, 예산 레벨, 평점, 간단 설명, 길찾기 링크 포함
  - 근거: 즉시 실행 및 비교 용이성
  - 수용 기준:
    - 카드는 4개 그리드/리스트로 표시되고 스켈레톤 로딩 제공
    - 길찾기 링크 탭 시 외부 지도 앱/웹으로 이동
    - 텍스트는 모두 한국어 표기
  - 우선순위: P0

- 폴백 처리(제로데이터 추천)
  - 설명: 검색 실패/부적합 시 미리 준비된 산책 루트, 무료 포토스팟, 전망 포인트 등 제시
  - 근거: 안정성(항상 최소 1개 이상 추천)
  - 수용 기준:
    - 최악의 경우에도 1개 이상 카드 노출
    - 폴백 카드도 길찾기 링크 포함
  - 우선순위: P0

- 사용성 보조 기능
  - 설명: 최근 검색 유지(세션 내), 새로고침 시 마지막 입력 유지, 한 번에 필터 재설정
  - 근거: 재시도/탐색형 사용성 개선
  - 수용 기준:
    - 동일 세션 내 뒤로가기/새로고침 시 입력값 유지
  - 우선순위: P1

- 현지 감성 강조 태깅
  - 설명: 로컬 분위기·일상성·혼잡도 낮음 등 배지 표시
  - 근거: 차별화된 가치 제안 전달
  - 수용 기준:
    - 상위 4개 중 최소 2개에 ‘현지 감성’ 근거 문구가 포함
  - 우선순위: P1

## 6. 비기능적 요구사항
- 성능
  - 평균 추천 응답 시간 ≤ 3초(페일 세이프: 4초 시 폴백 우선 노출)
  - 초기 로드 첫 화면 표시 ≤ 1.5초
- 가용성/안정성
  - 검색 실패 상황에서도 100% 세션에서 최소 1개 추천 보장
  - 오류 시 사용자 친화적 메시지와 재시도 제공
- 품질/정확성
  - 영업 종료·폐업 장소의 노출률 ≤ 5%
  - 시간 버킷 초과 추천 비율 ≤ 10%
- 접근성/현지화
  - 모든 텍스트 한국어 제공, 현지 명칭 병기 허용(예: 카탈루냐어/스페인어 표기)
  - 모바일 화면 가독성: 주요 터치 타겟 ≥ 44px
- 개인정보/신뢰
  - 불필요한 개인 식별 정보 수집 없음
  - 위치는 사전 정의 값 기반으로만 사용(사용자 동의 없이 실시간 수집 없음)
- 확장성(제품 관점)
  - 향후 실시간 위치/날씨, 캘린더 연동, 예약/결제 기능 추가에 대비한 화면·플로우 확장 가능

## 7. 성공 지표 및 측정
- 핵심 KPI
  - 추천 성공률(옵션 선택/세션) ≥ 35%
  - 길찾기 링크 클릭률 ≥ 50%
  - 평균 응답 시간 ≤ 3초
  - 폴백 비율 ≤ 20%
- 보조 지표
  - 상위 4개 카드 내 1위 클릭 비중 ≤ 65%(탐색형 균형 유지)
  - 추천 후 이탈률 ≤ 25%
  - 사용자 만족(5점 척도) ≥ 4.0
- 측정 방법
  - 세션 시작/입력 완료/카드 노출/카드 탭/링크 클릭 이벤트 계측
  - 폴백 발생 로그 및 원인 코드화(검색실패/영업종료 과다/시간초과 등)

## 8. 일정 및 마일스톤(예시 8주)
- 주 1: 요구사항 확정, 사용자 시나리오/카피 톤 앤 매너 정의
- 주 2: IA/와이어프레임, 카드 구성 및 추천 이유 카피 가이드
- 주 3~4: MVP 구현(세션 초기화, 입력 UI, 정규화·랭킹 로직, 카드 UI, 폴백 로직)
- 주 5: 콘텐츠 품질 튜닝(바르셀로나 일상 스팟 샘플·배지 문구), 성능 최적화 목표 점검
- 주 6: 폐쇄 베타(내부/소수 사용자), 오류/폴백 원인 보정
- 주 7: 공개 베타(모바일 웹), KPI 계측 안정화
- 주 8: 결과 분석, v1 개선 백로그 수립(테마 확장, 다국어 결과 보조, 재방문 유도)

주요 산출물: 사용자 여정 지도, 와이어프레임, 카드 컴포넌트 명세, 카피 가이드, KPI 대시보드 정의, 폴백 카탈로그

## 9. 위험요소 및 가정사항
- 가정사항
  - 바르셀로나 내 대표 지역 기준의 사전 정의 위치/날씨 데이터가 유효하다.
  - 모바일 데이터 연결이 가능한 환경에서 사용한다.
  - 사용자의 시간·예산·테마 입력이 솔직하고 간단하다.
- 위험요소 및 대응
  - 웹 검색 품질 편차: 특정 시간대/지역에서 결과 빈약 → 폴백 카탈로그 강화, 유사 카테고리 대체 규칙
  - 영업 정보 최신성 부족: 휴무/임시휴업 미반영 → 영업 여부 신뢰도 낮은 후보에 패널티, ‘대안 보기’ 제공
  - 응답 시간 초과: 다수 후보 처리 지연 → 스켈레톤 UI, 점진적 노출, 4초 시 폴백 우선 노출
  - 안전/야간 이슈: 늦은 시간 이동 동선 위험 → 밝은 상업지/광장 우선, 야간 안전 배지/주의 문구
  - 기대 불일치(현지 감성): 과도한 관광지 편중 → 현지 감성 점수/배지 도입, 체인점 중복 제한

## 10. 우선순위 요약(MVP)
- P0
  - 세션 초기화(사전 정의 위치/날씨/시간)
  - 3문항 입력(시간 버킷·예산 레벨·테마)
  - 쿼리 생성·웹 검색·정규화
  - 랭킹 및 상위 4개 카드 제시(추천 이유, 예산 레벨, 예상 소요시간, 평점, 길찾기 링크)
  - 폴백(항상 최소 1개)
  - 성능 목표(≤3초) 및 오류 메시지
- P1
  - 현지 감성 배지/문구
  - 세션 내 입력 유지/재시도 UX
  - 카테고리 다양성 보장 로직
- P2
  - 테마 확장(예: 예술·건축 산책, 바닷가 루트)
  - 간단한 즐겨찾기/최근 본 항목

## 11. 수용 기준 종합 체크리스트
- 사용자는 3문항만으로 추천을 받을 수 있다.
- 페이지 로드 후 3초 이내 최소 1개의 추천 카드가 노출된다.
- 항상 최대 4개의 카드가 노출되며, 부족 시 폴백으로 보충된다.
- 각 카드에는 이름/카테고리, 예상 총 소요시간, 예산 레벨(낮음/중간/높음), 평점(정보 없으면 명시), 추천 이유, 길찾기 링크가 포함된다.
- 시간 버킷을 넘는 옵션의 노출률은 10% 이하로 유지된다.
- 영업 종료·휴무 후보의 노출률은 5% 이하로 유지된다.
- 텍스트·라벨은 모두 한국어이며, 현지 명칭 병기가 가능하다.
- 추천 성공률 ≥ 35%, 길찾기 링크 클릭률 ≥ 50%, 폴백 비율 ≤ 20%를 목표로 한다.